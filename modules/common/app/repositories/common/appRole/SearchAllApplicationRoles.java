package repositories.common.appRole;

import models.common.AppRole;
import play.Logger;

import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;
import java.util.List;

/**
 * Created by adrian on 17.07.16.
 */
public class SearchAllApplicationRoles implements I_AllAppRolesSearchable {

    @Override
    public HashMap<String, AppRole> searchAllAppRoles() {

        AppRole appRole = new AppRole();

        List<AppRole> appRolesList = new ArrayList<>();
        try {

            appRolesList = appRole.find.all();

        }catch (NullPointerException e){

            Logger.info("App roles not found. " + new Date());
            return null;

        }

        int appRolesListSize = appRolesList.size();
        if(appRolesListSize == 0){

            Logger.info("App roles not found. " + new Date());
            return null;

        }

        HashMap<String, AppRole> appRolesHashMap = new HashMap<String, AppRole>();
        for(int currentPosition = 0; currentPosition < appRolesListSize; currentPosition++){

            appRolesHashMap.put(
                    appRolesList.get(currentPosition).appRoleName,
                    appRolesList.get(currentPosition)
            );

        }

        if(appRolesHashMap.size() != appRolesListSize){

            Logger.info("App roles not found. " + new Date());

        }

        Logger.info("Found " +appRolesHashMap.size()+ " app roles. " + new Date());

        return appRolesHashMap;

    }

}
