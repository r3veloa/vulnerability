package repositories.common.appStatus;

import models.common.AppStatus;
import org.junit.Test;
import play.test.WithApplication;

import static junit.framework.TestCase.assertEquals;
import static junit.framework.TestCase.assertNotNull;
import static junit.framework.TestCase.assertNull;
import static play.test.Helpers.fakeApplication;
import static play.test.Helpers.inMemoryDatabase;
import static play.test.Helpers.running;

/**
 * Created by adrian on 17.07.16.
 */
public class SearchAppStatusByNameTest extends WithApplication implements I_AppStatusByNameSearchable {

    public String fakeName = "fake";
    public String appStatusSampleName = "sample";
    public String appStatusSampleDescription = "sampleDescription";

    @Test
    public void searchByNameNullTest(){

        running(fakeApplication(inMemoryDatabase("test")), () -> {

            SearchAllAppStatusesTest searchAllAppStatusesTest = new SearchAllAppStatusesTest();
            searchAllAppStatusesTest.createSampleStatus();
            AppStatus appStatus = searchByName(fakeName);
            assertNull(appStatus);

        });

    }

    @Test
    public void searchAppStatusBySampleNameTest(){

        running(fakeApplication(inMemoryDatabase("test")), () -> {

            SearchAllAppStatusesTest searchAllAppStatusesTest = new SearchAllAppStatusesTest();
            searchAllAppStatusesTest.createSampleStatus();
            AppStatus appStatus = searchByName(appStatusSampleName);

            assertNotNull(appStatus);
            assertEquals(appStatus.appStatusName, appStatusSampleName);
            assertEquals(appStatus.appStatusDescription, appStatusSampleDescription);

        });

    }

    @Override
    public AppStatus searchByName(String appStatusName) {

        SearchAppStatusByName searchAppStatusByName = new SearchAppStatusByName();
        return searchAppStatusByName.searchByName(appStatusName);

    }

}
